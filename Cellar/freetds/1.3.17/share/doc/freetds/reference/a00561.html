<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeTDS API: Charset conversion</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeTDS API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Charset conversion<div class="ingroups"><a class="el" href="a00567.html">LibTDS API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Convert between different charsets.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Charset conversion:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 0 -->
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga849bb1ce9f0ea276dcc0695cfba2492b"><td class="memItemLeft" align="right" valign="top"><a id="ga849bb1ce9f0ea276dcc0695cfba2492b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHUNK_ALLOC</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ga849bb1ce9f0ea276dcc0695cfba2492b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga012e5d95a1a5d256c7e29e9f4b4171f4"><td class="memItemLeft" align="right" valign="top"><a id="ga012e5d95a1a5d256c7e29e9f4b4171f4"></a>
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>ICONV_CHAR</b></td></tr>
<tr class="separator:ga012e5d95a1a5d256c7e29e9f4b4171f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1167a5fff2aadba4585bd6da1196703"><td class="memItemLeft" align="right" valign="top"><a id="gaf1167a5fff2aadba4585bd6da1196703"></a>
typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><b>iconv_get_t</b>) (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:gaf1167a5fff2aadba4585bd6da1196703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5a06ab8cc71eeaeaf484d75621140a7"><td class="memItemLeft" align="right" valign="top"><a id="gaa5a06ab8cc71eeaeaf484d75621140a7"></a>
typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><b>iconv_put_t</b>) (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:gaa5a06ab8cc71eeaeaf484d75621140a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaf640b898b20cd409ef96e48f2fd1c5dd"><td class="memItemLeft" align="right" valign="top"><a id="gaf640b898b20cd409ef96e48f2fd1c5dd"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>ICONV_CD_VALUE</b> { <b>Like_to_Like</b> = 0x100
 }</td></tr>
<tr class="separator:gaf640b898b20cd409ef96e48f2fd1c5dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac84d63747b4310901ea09a8995ffbf30"><td class="memItemLeft" align="right" valign="top"><a id="gac84d63747b4310901ea09a8995ffbf30"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>_iconv_close</b> (iconv_t *cd)</td></tr>
<tr class="separator:gac84d63747b4310901ea09a8995ffbf30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a0d040a83b3dffb545c6db67904f881"><td class="memItemLeft" align="right" valign="top"><a id="ga8a0d040a83b3dffb545c6db67904f881"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>collate2charset</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, TDS_UCHAR collate[5])</td></tr>
<tr class="separator:ga8a0d040a83b3dffb545c6db67904f881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8988a609bb65d45467f6b84f6d82264c"><td class="memItemLeft" align="right" valign="top"><a id="ga8988a609bb65d45467f6b84f6d82264c"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_ascii</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:ga8988a609bb65d45467f6b84f6d82264c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36262a53764dda4951a52dee071d9ce5"><td class="memItemLeft" align="right" valign="top"><a id="ga36262a53764dda4951a52dee071d9ce5"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_cp1252</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:ga36262a53764dda4951a52dee071d9ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d46cddd12bfb5b9481f7d5db1154b28"><td class="memItemLeft" align="right" valign="top"><a id="ga6d46cddd12bfb5b9481f7d5db1154b28"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_err</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:ga6d46cddd12bfb5b9481f7d5db1154b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0aced3bddfcae66d98d293397cd37ec7"><td class="memItemLeft" align="right" valign="top"><a id="ga0aced3bddfcae66d98d293397cd37ec7"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_iso1</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:ga0aced3bddfcae66d98d293397cd37ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9426e103f1325667962640d59d92ec1c"><td class="memItemLeft" align="right" valign="top"><a id="ga9426e103f1325667962640d59d92ec1c"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_ucs4be</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:ga9426e103f1325667962640d59d92ec1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade4cd5108b3002c6ad880ee9dc2f62e9"><td class="memItemLeft" align="right" valign="top"><a id="gade4cd5108b3002c6ad880ee9dc2f62e9"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_ucs4le</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:gade4cd5108b3002c6ad880ee9dc2f62e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4aa60de8ece655b8d88b3b0bbc1635f9"><td class="memItemLeft" align="right" valign="top"><a id="ga4aa60de8ece655b8d88b3b0bbc1635f9"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_utf16be</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:ga4aa60de8ece655b8d88b3b0bbc1635f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8b8471bf9b5cccb6c056b67d4307b7f"><td class="memItemLeft" align="right" valign="top"><a id="gab8b8471bf9b5cccb6c056b67d4307b7f"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_utf16le</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:gab8b8471bf9b5cccb6c056b67d4307b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26673980abc1bd02ec9021f291d54a78"><td class="memItemLeft" align="right" valign="top"><a id="ga26673980abc1bd02ec9021f291d54a78"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>get_utf8</b> (const unsigned char *p, size_t len, ICONV_CHAR *out)</td></tr>
<tr class="separator:ga26673980abc1bd02ec9021f291d54a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05804a8292ddd7f5481436451a4f4a26"><td class="memItemLeft" align="right" valign="top"><a id="ga05804a8292ddd7f5481436451a4f4a26"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_ascii</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:ga05804a8292ddd7f5481436451a4f4a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d229b5bcbeb8c14a15257dfc494ebdd"><td class="memItemLeft" align="right" valign="top"><a id="ga3d229b5bcbeb8c14a15257dfc494ebdd"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_cp1252</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:ga3d229b5bcbeb8c14a15257dfc494ebdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga897a71bda21d63281583b7c40ad7dcd0"><td class="memItemLeft" align="right" valign="top"><a id="ga897a71bda21d63281583b7c40ad7dcd0"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_err</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:ga897a71bda21d63281583b7c40ad7dcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6b9e69bf4a3fc9e8cb8d86e40688138"><td class="memItemLeft" align="right" valign="top"><a id="gac6b9e69bf4a3fc9e8cb8d86e40688138"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_iso1</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:gac6b9e69bf4a3fc9e8cb8d86e40688138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5e1e0c488a8c9fc9e060bef9c62261e"><td class="memItemLeft" align="right" valign="top"><a id="gac5e1e0c488a8c9fc9e060bef9c62261e"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_ucs4be</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:gac5e1e0c488a8c9fc9e060bef9c62261e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac05cbba509163492d6c0835c53cec4ed"><td class="memItemLeft" align="right" valign="top"><a id="gac05cbba509163492d6c0835c53cec4ed"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_ucs4le</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:gac05cbba509163492d6c0835c53cec4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccf9c0f7b71cc687b4e8174e2206242a"><td class="memItemLeft" align="right" valign="top"><a id="gaccf9c0f7b71cc687b4e8174e2206242a"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_utf16be</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:gaccf9c0f7b71cc687b4e8174e2206242a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb3ff2093c2da0ed54842a5d8d53847b"><td class="memItemLeft" align="right" valign="top"><a id="gaeb3ff2093c2da0ed54842a5d8d53847b"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_utf16le</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:gaeb3ff2093c2da0ed54842a5d8d53847b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39681befed140ba03251364f014cc6b3"><td class="memItemLeft" align="right" valign="top"><a id="ga39681befed140ba03251364f014cc6b3"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>put_utf8</b> (unsigned char *buf, size_t buf_len, ICONV_CHAR c)</td></tr>
<tr class="separator:ga39681befed140ba03251364f014cc6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3380140fc6eb9f2090c430f40e846876"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#ga3380140fc6eb9f2090c430f40e846876">skip_one_input_sequence</a> (iconv_t cd, const <a class="el" href="a00449.html#ae21e9f12e8ee5219228ee6b6a41dec66">TDS_ENCODING</a> *charset, const char **input, size_t *input_size)</td></tr>
<tr class="memdesc:ga3380140fc6eb9f2090c430f40e846876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the input sequence pointer to the next valid position.  <a href="a00561.html#ga3380140fc6eb9f2090c430f40e846876">More...</a><br /></td></tr>
<tr class="separator:ga3380140fc6eb9f2090c430f40e846876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1db9b785009f6c3d81dcdc92fd3fed99"><td class="memItemLeft" align="right" valign="top"><a id="ga1db9b785009f6c3d81dcdc92fd3fed99"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>tds7_srv_charset_changed</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, TDS_UCHAR collation[5])</td></tr>
<tr class="separator:ga1db9b785009f6c3d81dcdc92fd3fed99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac01180352db7052e786463e3b07a8a9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#gac01180352db7052e786463e3b07a8a9e">tds_canonical_charset</a> (const char *charset_name)</td></tr>
<tr class="memdesc:gac01180352db7052e786463e3b07a8a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine canonical iconv character set.  <a href="a00561.html#gac01180352db7052e786463e3b07a8a9e">More...</a><br /></td></tr>
<tr class="separator:gac01180352db7052e786463e3b07a8a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6561d1dba1a04c168431b16ec17d7e4c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#ga6561d1dba1a04c168431b16ec17d7e4c">tds_canonical_charset_name</a> (const char *charset_name)</td></tr>
<tr class="memdesc:ga6561d1dba1a04c168431b16ec17d7e4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine canonical iconv character set name.  <a href="a00561.html#ga6561d1dba1a04c168431b16ec17d7e4c">More...</a><br /></td></tr>
<tr class="separator:ga6561d1dba1a04c168431b16ec17d7e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87db49044919f1bc84c0ff5e9ab00304"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#ga87db49044919f1bc84c0ff5e9ab00304">tds_iconv</a> (<a class="el" href="a01235.html">TDSSOCKET</a> *tds, <a class="el" href="a00983.html">TDSICONV</a> *conv, TDS_ICONV_DIRECTION io, const char **inbuf, size_t *inbytesleft, char **outbuf, size_t *outbytesleft)</td></tr>
<tr class="memdesc:ga87db49044919f1bc84c0ff5e9ab00304"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around iconv(3).  <a href="a00561.html#ga87db49044919f1bc84c0ff5e9ab00304">More...</a><br /></td></tr>
<tr class="separator:ga87db49044919f1bc84c0ff5e9ab00304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga443693697445c37abcd4b7103b1c47ac"><td class="memItemLeft" align="right" valign="top"><a id="ga443693697445c37abcd4b7103b1c47ac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_close</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn)</td></tr>
<tr class="separator:ga443693697445c37abcd4b7103b1c47ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad79cfd8c6b158aa6992e510abe4612aa"><td class="memItemLeft" align="right" valign="top"><a id="gad79cfd8c6b158aa6992e510abe4612aa"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_err</b> (<a class="el" href="a01235.html">TDSSOCKET</a> *tds, int err)</td></tr>
<tr class="separator:gad79cfd8c6b158aa6992e510abe4612aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad161ada50068b9a8a05786cce7b3dc1d"><td class="memItemLeft" align="right" valign="top"><a id="gad161ada50068b9a8a05786cce7b3dc1d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_free</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn)</td></tr>
<tr class="separator:gad161ada50068b9a8a05786cce7b3dc1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed775f7fcca42b5c2a53f9508c140259"><td class="memItemLeft" align="right" valign="top"><a id="gaed775f7fcca42b5c2a53f9508c140259"></a>
<a class="el" href="a00983.html">TDSICONV</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#gaed775f7fcca42b5c2a53f9508c140259">tds_iconv_from_collate</a> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, TDS_UCHAR collate[5])</td></tr>
<tr class="memdesc:gaed775f7fcca42b5c2a53f9508c140259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get iconv information from a LCID (to support different column encoding under MSSQL2K) <br /></td></tr>
<tr class="separator:gaed775f7fcca42b5c2a53f9508c140259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga978d2036de6a11a73ed4ab78b69c79f5"><td class="memItemLeft" align="right" valign="top"><a id="ga978d2036de6a11a73ed4ab78b69c79f5"></a>
<a class="el" href="a00983.html">TDSICONV</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_get</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, const char *client_charset, const char *server_charset)</td></tr>
<tr class="separator:ga978d2036de6a11a73ed4ab78b69c79f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab95825efc9a876b0a7ce77f126cf3fc1"><td class="memItemLeft" align="right" valign="top"><a id="gab95825efc9a876b0a7ce77f126cf3fc1"></a>
<a class="el" href="a00983.html">TDSICONV</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#gab95825efc9a876b0a7ce77f126cf3fc1">tds_iconv_get_info</a> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, int canonic_client, int canonic_server)</td></tr>
<tr class="memdesc:gab95825efc9a876b0a7ce77f126cf3fc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a iconv info structure, allocate and initialize if needed. <br /></td></tr>
<tr class="separator:gab95825efc9a876b0a7ce77f126cf3fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacacca154f73a30b2fb8a4736de51755f"><td class="memItemLeft" align="right" valign="top"><a id="gacacca154f73a30b2fb8a4736de51755f"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_info_close</b> (<a class="el" href="a00983.html">TDSICONV</a> *char_conv)</td></tr>
<tr class="separator:gacacca154f73a30b2fb8a4736de51755f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a7a7b4d6ed344127e164dd0b443d790"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#ga3a7a7b4d6ed344127e164dd0b443d790">tds_iconv_info_init</a> (<a class="el" href="a00983.html">TDSICONV</a> *char_conv, int client_canonical, int server_canonical)</td></tr>
<tr class="memdesc:ga3a7a7b4d6ed344127e164dd0b443d790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open iconv descriptors to convert between character sets (both directions).  <a href="a00561.html#ga3a7a7b4d6ed344127e164dd0b443d790">More...</a><br /></td></tr>
<tr class="separator:ga3a7a7b4d6ed344127e164dd0b443d790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e4275b3494b59d8b6c642955bb72106"><td class="memItemLeft" align="right" valign="top"><a id="ga1e4275b3494b59d8b6c642955bb72106"></a>
TDSRET&#160;</td><td class="memItemRight" valign="bottom"><b>tds_iconv_open</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, const char *charset, int use_utf16)</td></tr>
<tr class="separator:ga1e4275b3494b59d8b6c642955bb72106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5252425e5f0ba60e3e10a0e26b88e254"><td class="memItemLeft" align="right" valign="top"><a id="ga5252425e5f0ba60e3e10a0e26b88e254"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>tds_srv_charset_changed</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, const char *charset)</td></tr>
<tr class="separator:ga5252425e5f0ba60e3e10a0e26b88e254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ab19ef36c79c203029ef4090bc54409"><td class="memItemLeft" align="right" valign="top"><a id="ga9ab19ef36c79c203029ef4090bc54409"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>tds_srv_charset_changed_num</b> (<a class="el" href="a01231.html">TDSCONNECTION</a> *conn, int canonic_charset_num)</td></tr>
<tr class="separator:ga9ab19ef36c79c203029ef4090bc54409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e879e60070a3e43c8f223365bf66137"><td class="memItemLeft" align="right" valign="top"><a id="ga6e879e60070a3e43c8f223365bf66137"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>tds_sys_iconv</b> (iconv_t cd, const char **inbuf, size_t *inbytesleft, char **outbuf, size_t *outbytesleft)</td></tr>
<tr class="separator:ga6e879e60070a3e43c8f223365bf66137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9f9201cc5e009a15e888923575ecc67"><td class="memItemLeft" align="right" valign="top"><a id="gae9f9201cc5e009a15e888923575ecc67"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>tds_sys_iconv_close</b> (iconv_t cd)</td></tr>
<tr class="separator:gae9f9201cc5e009a15e888923575ecc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga900b0bce08c6bfc2e7c988f4b5970516"><td class="memItemLeft" align="right" valign="top">iconv_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00561.html#ga900b0bce08c6bfc2e7c988f4b5970516">tds_sys_iconv_open</a> (const char *tocode, const char *fromcode)</td></tr>
<tr class="memdesc:ga900b0bce08c6bfc2e7c988f4b5970516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inputs are FreeTDS canonical names, no other.  <a href="a00561.html#ga900b0bce08c6bfc2e7c988f4b5970516">More...</a><br /></td></tr>
<tr class="separator:ga900b0bce08c6bfc2e7c988f4b5970516"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4d28ebd717e371341e4464b33760bcb9"><td class="memItemLeft" align="right" valign="top">static const iconv_get_t&#160;</td><td class="memItemRight" valign="bottom"><b>iconv_gets</b> [16]</td></tr>
<tr class="separator:ga4d28ebd717e371341e4464b33760bcb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f6f65638006055e893fed796ec67350"><td class="memItemLeft" align="right" valign="top">static const iconv_put_t&#160;</td><td class="memItemRight" valign="bottom"><b>iconv_puts</b> [16]</td></tr>
<tr class="separator:ga7f6f65638006055e893fed796ec67350"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Convert between different charsets. </p>
<p>Set up the initial iconv conversion descriptors.</p>
<p>When the socket is allocated, three TDSICONV structures are attached to iconv. <br  />
 They have fixed meanings: </p><ul>
<li>0. Client &lt;-&gt; UCS-2 (client2ucs2) </li>
<li>1. Client &lt;-&gt; server single-byte charset (client2server_chardata)</li>
</ul>
<p>Other designs that use less data are possible, but these three conversion needs are very often needed. By reserving them, we avoid searching the array for our most common purposes.</p>
<p>To solve different iconv names and portability problems FreeTDS maintains a list of aliases each charset. <br  />
</p>
<p>First we discover the names of our minimum required charsets (UTF-8, ISO8859-1 and UCS2). <br  />
 Later, as and when it's needed, we try to discover others.</p>
<p>There is one list of canonic names (GNU iconv names) and two sets of aliases (one for other iconv implementations and another for Sybase). For every canonic charset name we cache the iconv name found during discovery. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3380140fc6eb9f2090c430f40e846876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3380140fc6eb9f2090c430f40e846876">&#9670;&nbsp;</a></span>skip_one_input_sequence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t skip_one_input_sequence </td>
          <td>(</td>
          <td class="paramtype">iconv_t&#160;</td>
          <td class="paramname"><em>cd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00449.html#ae21e9f12e8ee5219228ee6b6a41dec66">TDS_ENCODING</a> *&#160;</td>
          <td class="paramname"><em>charset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>input_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move the input sequence pointer to the next valid position. </p>
<p>Used when an input character cannot be converted. <br  />
 </p><dl class="section return"><dt>Returns</dt><dd>number of bytes to skip. </dd></dl>

</div>
</div>
<a id="gac01180352db7052e786463e3b07a8a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac01180352db7052e786463e3b07a8a9e">&#9670;&nbsp;</a></span>tds_canonical_charset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tds_canonical_charset </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>charset_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine canonical iconv character set. </p>
<dl class="section return"><dt>Returns</dt><dd>canonical position, or -1 if lookup failed. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Returned name can be used in bytes_per_char(), above. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 1 -->
</div>
</div>

</div>
</div>
<a id="ga6561d1dba1a04c168431b16ec17d7e4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6561d1dba1a04c168431b16ec17d7e4c">&#9670;&nbsp;</a></span>tds_canonical_charset_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* tds_canonical_charset_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>charset_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine canonical iconv character set name. </p>
<p><br  />
 </p><dl class="section return"><dt>Returns</dt><dd>canonical name, or NULL if lookup failed. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Returned name can be used in bytes_per_char(), above. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 2 -->
</div>
</div>

</div>
</div>
<a id="ga87db49044919f1bc84c0ff5e9ab00304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87db49044919f1bc84c0ff5e9ab00304">&#9670;&nbsp;</a></span>tds_iconv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tds_iconv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01235.html">TDSSOCKET</a> *&#160;</td>
          <td class="paramname"><em>tds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00983.html">TDSICONV</a> *&#160;</td>
          <td class="paramname"><em>conv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TDS_ICONV_DIRECTION&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>inbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>inbytesleft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>outbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>outbytesleft</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around iconv(3). </p>
<p>Same parameters, with slightly different behavior. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tds</td><td>state information for the socket and the TDS protocol </td></tr>
    <tr><td class="paramname">io</td><td>Enumerated value indicating whether the data are being sent to or received from the server. </td></tr>
    <tr><td class="paramname">conv</td><td>information about the encodings involved, including the iconv(3) conversion descriptors. </td></tr>
    <tr><td class="paramname">inbuf</td><td>address of pointer to the input buffer of data to be converted. <br  />
 </td></tr>
    <tr><td class="paramname">inbytesleft</td><td>address of count of bytes in <em>inbuf</em>. </td></tr>
    <tr><td class="paramname">outbuf</td><td>address of pointer to the output buffer. <br  />
 </td></tr>
    <tr><td class="paramname">outbytesleft</td><td>address of count of bytes in <em>outbuf</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">number</td><td>of irreversible conversions performed. -1 on error, see iconv(3) documentation for a description of the possible values of <em>errno</em>. <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Unlike iconv(3), none of the arguments can be nor point to NULL. Like iconv(3), all pointers will be updated. Success is signified by a nonnegative return code and <em>*inbytesleft</em> == 0. <br  />
 If the conversion descriptor in <em>iconv</em> is -1 or NULL, <em>inbuf</em> is copied to <em>outbuf</em>, and all parameters updated accordingly.</dd></dl>
<p>If a character in <em>inbuf</em> cannot be converted because no such cbaracter exists in the <em>outbuf</em> character set, we emit messages similar to the ones Sybase emits when it fails such a conversion. The message varies depending on the direction of the data. <br  />
 On a read error, we emit Msg 2403, Severity 16 (EX_INFO): "WARNING! Some character(s) could not be converted into client's character set. 
        Unconverted bytes were changed to question marks ('?')." On a write error we emit Msg 2402, Severity 16 (EX_USER): "Error converting client characters into server's character set. Some character(s) could not be converted." and return an error code. Client libraries relying on this routine should reflect an error back to the application. <br  />
</p>
<dl class="todo"><dt><b><a class="el" href="a00545.html#_todo000019">Todo:</a></b></dt><dd>Check for variable multibyte non-UTF-8 input character set. <br  />
 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="a00545.html#_todo000020">Todo:</a></b></dt><dd>Use more robust error message generation. <br  />
 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="a00545.html#_todo000021">Todo:</a></b></dt><dd>For reads, cope with <em>outbuf</em> encodings that don't have the equivalent of an ASCII '?'. <br  />
 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="a00545.html#_todo000022">Todo:</a></b></dt><dd>Support alternative to '?' for the replacement character. <br  />
 </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 3 -->
</div>
</div>

</div>
</div>
<a id="ga3a7a7b4d6ed344127e164dd0b443d790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a7a7b4d6ed344127e164dd0b443d790">&#9670;&nbsp;</a></span>tds_iconv_info_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tds_iconv_info_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00983.html">TDSICONV</a> *&#160;</td>
          <td class="paramname"><em>char_conv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>client_canonical</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>server_canonical</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open iconv descriptors to convert between character sets (both directions). </p>
<ol type="1">
<li>Look up the canonical names of the character sets.</li>
<li>Look up their widths.</li>
<li>Ask iconv to open a conversion descriptor.</li>
<li>Fail if any of the above offer any resistance. <br  />
 <dl class="section remark"><dt>Remarks</dt><dd>The charset names written to <em>iconv</em> will be the canonical names, not necessarily the names passed in. </dd></dl>
</li>
</ol>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 4 -->
</div>
</div>

</div>
</div>
<a id="ga900b0bce08c6bfc2e7c988f4b5970516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga900b0bce08c6bfc2e7c988f4b5970516">&#9670;&nbsp;</a></span>tds_sys_iconv_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iconv_t tds_sys_iconv_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tocode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fromcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inputs are FreeTDS canonical names, no other. </p>
<p>No alias list is consulted. <br  />
 </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 5 -->
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga4d28ebd717e371341e4464b33760bcb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d28ebd717e371341e4464b33760bcb9">&#9670;&nbsp;</a></span>iconv_gets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const iconv_get_t iconv_gets[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    get_iso1, get_ascii, get_utf16le, get_utf16be, get_ucs4le, get_ucs4be, get_utf8, get_cp1252,</div>
<div class="line">    get_err, get_err, get_err, get_err, get_err, get_err, get_err, get_err,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7f6f65638006055e893fed796ec67350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f6f65638006055e893fed796ec67350">&#9670;&nbsp;</a></span>iconv_puts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const iconv_put_t iconv_puts[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    put_iso1, put_ascii, put_utf16le, put_utf16be, put_ucs4le, put_ucs4be, put_utf8, put_cp1252,</div>
<div class="line">    put_err, put_err, put_err, put_err, put_err, put_err, put_err, put_err,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
